{"ast":null,"code":"import _objectSpread from \"D:/Github/FoodAppTimes/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"D:/Github/FoodAppTimes/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Github\\\\FoodAppTimes\\\\src\\\\component\\\\Coupon\\\\AddCoupon.component.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './AddCoupon.css';\nimport axios from 'axios';\n\nfunction AddCoupon(props) {\n  var _useState4;\n\n  var _useState = useState(),\n      imgid = _useState[0],\n      setimgid = _useState[1]; // image upload\n\n\n  var _useState2 = useState({\n    selectedImage: null\n  }),\n      formImage = _useState2[0],\n      setFormImage = _useState2[1];\n\n  function imageInputHandler(event) {\n    setFormImage({\n      selectedImage: event.target.files[0]\n    });\n  }\n\n  function onImageUpload() {\n    var formData = new FormData();\n    formData.append(\"couponImage\", formImage.selectedImage);\n    axios.post(\"https://food-app-timesinternet.herokuapp.com/api/staff/coupon/image\", formData).then(function (resp) {\n      return setimgid(resp.data.id);\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  }\n\n  ;\n\n  var _useState3 = useState((_useState4 = {\n    name: \"\",\n    value: 15,\n    Date: \"26-12-2021\"\n  }, _defineProperty(_useState4, \"Date\", \"22-12-2022\"), _defineProperty(_useState4, \"minimumCartValue\", 11), _defineProperty(_useState4, \"maxDiscount\", \"\"), _defineProperty(_useState4, \"maxPerUser\", 4), _defineProperty(_useState4, \"totalUse\", 5), _defineProperty(_useState4, \"termsAndCondition\", \"You can use this\"), _defineProperty(_useState4, \"imageId\", imgid), _useState4)),\n      formValues = _useState3[0],\n      setFormValues = _useState3[1];\n\n  function addCoupon(event) {\n    var _setFormValues;\n\n    event.preventDefault(); // prevents refreshing\n\n    var postCoupon = formValues;\n    axios.post('/api/staff/coupon', postCoupon).then(function (response) {\n      console.log(response);\n    });\n    alert(\"Submitted!\" + \" title: \" + formValues.name + \" value: \" + formValues.maxDiscount);\n    setFormValues((_setFormValues = {\n      name: \"\",\n      value: 15,\n      Date: \"26-12-2021\"\n    }, _defineProperty(_setFormValues, \"Date\", \"22-12-2022\"), _defineProperty(_setFormValues, \"minimumCartValue\", 11), _defineProperty(_setFormValues, \"maxDiscount\", \"\"), _defineProperty(_setFormValues, \"maxPerUser\", 4), _defineProperty(_setFormValues, \"totalUse\", 5), _defineProperty(_setFormValues, \"termsAndCondition\", \"You can use this\"), _defineProperty(_setFormValues, \"imageId\", imgid), _setFormValues));\n  }\n\n  function handleInputChange(event) {\n    setFormValues(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, event.target.name, event.target.value));\n    });\n  }\n\n  function handleFileChange(event) {\n    setFormValues(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, event.target.name, event.target.value));\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: \"couponform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"coupon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: \"400px\",\n      margin: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, __jsx(Form, {\n    onSubmit: addCoupon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, __jsx(\"h3\", {\n    className: \"coupontitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Add Coupon\"), __jsx(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, \"Coupon Name\"), __jsx(Form.Control, {\n    type: \"text\",\n    placeholder: \"Coupon Name...\",\n    name: \"name\",\n    onChange: handleInputChange,\n    value: formValues.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  })), __jsx(Form.Group, {\n    controlId: \"formFile\",\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"Default file input example\"), __jsx(Form.Control, {\n    onChange: imageInputHandler,\n    type: \"file\",\n    accept: \"image/png, image/gif, image/jpeg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }), __jsx(Button, {\n    onClick: onImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, \"Upload\")), __jsx(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, \"Coupon Vaule\"), __jsx(Form.Control, {\n    type: \"text\",\n    placeholder: \"Value...\",\n    name: \"maxDiscount\",\n    onChange: handleInputChange,\n    value: formValues.maxDiscount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  })), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    style: {\n      \"float\": 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Add Coupon\")), __jsx(\"img\", {\n    src: formValues.imgURL,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default AddCoupon;","map":{"version":3,"sources":["D:/Github/FoodAppTimes/src/component/Coupon/AddCoupon.component.js"],"names":["useState","Form","Button","axios","AddCoupon","props","imgid","setimgid","selectedImage","formImage","setFormImage","imageInputHandler","event","target","files","onImageUpload","formData","FormData","append","post","then","resp","data","id","err","console","log","name","value","Date","formValues","setFormValues","addCoupon","preventDefault","postCoupon","response","alert","maxDiscount","handleInputChange","prevState","handleFileChange","width","margin","imgURL"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './AddCoupon.css';\r\nimport axios from 'axios';\r\n\r\nfunction AddCoupon(props) {\r\n    const [imgid, setimgid] = useState();\r\n    // image upload\r\n    const [formImage, setFormImage] = useState({\r\n        selectedImage: null\r\n    })\r\n\r\n    function imageInputHandler(event) {\r\n        setFormImage({ selectedImage: event.target.files[0] });\r\n    }\r\n    \r\n    function onImageUpload() {\r\n        const formData = new FormData();\r\n        formData.append(\"couponImage\", formImage.selectedImage);\r\n        axios.post(\"https://food-app-timesinternet.herokuapp.com/api/staff/coupon/image\", formData)\r\n            .then(resp => setimgid(resp.data.id))\r\n            .catch(err => console.log(err))\r\n    };\r\n\r\n    const [formValues, setFormValues] = useState(\r\n        {\r\n            name: \"\",\r\n            value: 15,\r\n            Date: \"26-12-2021\",\r\n            Date: \"22-12-2022\",\r\n            minimumCartValue: 11,\r\n            maxDiscount: \"\",\r\n            maxPerUser: 4,\r\n            totalUse: 5,\r\n            termsAndCondition: \"You can use this\",\r\n            imageId: imgid\r\n        }\r\n    )\r\n\r\n    function addCoupon(event) {\r\n        event.preventDefault(); // prevents refreshing\r\n        const postCoupon = formValues\r\n        axios.post('/api/staff/coupon', postCoupon).then((response) => {\r\n            console.log(response);\r\n        })\r\n        alert(\"Submitted!\" + \" title: \" + formValues.name + \" value: \" + formValues.maxDiscount);\r\n        setFormValues({\r\n            name: \"\",\r\n            value: 15,\r\n            Date: \"26-12-2021\",\r\n            Date: \"22-12-2022\",\r\n            minimumCartValue: 11,\r\n            maxDiscount: \"\",\r\n            maxPerUser: 4,\r\n            totalUse: 5,\r\n            termsAndCondition: \"You can use this\",\r\n            imageId: imgid\r\n        })\r\n    }\r\n\r\n    function handleInputChange(event) {\r\n        setFormValues((prevState) => {\r\n            return {\r\n                ...prevState,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    function handleFileChange(event) {\r\n        setFormValues((prevState) => {\r\n            return {\r\n                ...prevState,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"couponform\">\r\n            <div className=\"coupon\">\r\n\r\n\r\n                <div style={{ width: \"400px\", margin: \"auto\" }}>\r\n                    <Form onSubmit={addCoupon}>\r\n                        <h3 className='coupontitle'>Add Coupon</h3>\r\n\r\n                        <Form.Group className=\"mb-3\" controlId=\"title\">\r\n                            <Form.Label>Coupon Name</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Coupon Name...\" name=\"name\" onChange={handleInputChange} value={formValues.name} />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formFile\" className=\"mb-3\">\r\n                            <Form.Label>Default file input example</Form.Label>\r\n                            <Form.Control onChange={imageInputHandler} type=\"file\" accept=\"image/png, image/gif, image/jpeg\" />\r\n                            <Button onClick={onImageUpload}>Upload</Button>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group className=\"mb-3\" controlId=\"value\">\r\n                            <Form.Label>Coupon Vaule</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Value...\" name=\"maxDiscount\" onChange={handleInputChange} value={formValues.maxDiscount} />\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" type=\"submit\" style={{ float: 'right' }} >\r\n                            Add Coupon\r\n                        </Button>\r\n                    </Form>\r\n\r\n                    <img src={formValues.imgURL} alt=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddCoupon"]},"metadata":{},"sourceType":"module"}