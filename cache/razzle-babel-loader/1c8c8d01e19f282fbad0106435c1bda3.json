{"ast":null,"code":"import _objectSpread from \"D:/Github/FoodAppTimes/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"D:\\\\Github\\\\FoodAppTimes\\\\src\\\\component\\\\Pincode\\\\AddPincode.component.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport \"./AddPincode.css\";\n\nfunction AddPincode() {\n  var _useState = useState(false),\n      showAlert = _useState[0],\n      setShowAlert = _useState[1];\n\n  var _useState2 = useState({\n    pincodeString: '',\n    pincodes: []\n  }),\n      formValues = _useState2[0],\n      setformValues = _useState2[1];\n\n  useEffect(function () {\n    axios.get(\"https://food-app-timesinternet.herokuapp.com/api/staff/pincode\").then(function (response) {\n      var pincodeArray = response.data.map(function (pincodeElement) {\n        return pincodeElement.pincode.toString();\n      });\n      var pincodeArrayString = \"\";\n      pincodeArray.forEach(function (item, index) {\n        if (index === pincodeArray.length - 1) {\n          pincodeArrayString += \" \" + item;\n        } else {\n          pincodeArrayString += \" \" + item + \",\";\n        }\n      });\n      setformValues(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          pincodeString: pincodeArrayString\n        });\n      });\n    });\n  }, []);\n\n  function addPincodes(event) {\n    event.preventDefault();\n    axios.post(\"https://food-app-timesinternet.herokuapp.com/api/staff/pincode\", formValues.pincodes).then(function (resp) {\n      console.log(resp);\n      setShowAlert(true);\n      setTimeout(function () {\n        setShowAlert(false);\n      }, 1500);\n    });\n  }\n\n  function handleInputChange(event) {\n    event.preventDefault();\n    var pincodes = event.target.value.split(\",\").map(function (item) {\n      return {\n        pincode: item.trim()\n      };\n    });\n    setformValues({\n      pincodeString: event.target.value,\n      pincodes: pincodes\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"pincodeform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"pincode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: \"400px\",\n      margin: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, __jsx(Form, {\n    onSubmit: addPincodes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, __jsx(\"h3\", {\n    className: \"pincodetitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, \"Add Pincodes\"), showAlert && __jsx(Alert, {\n    variant: \"info\",\n    onClose: function onClose() {\n      return setShowAlert(false);\n    },\n    dismissible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, \"Staff Added!\"), __jsx(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  }, \"Pincodes\"), __jsx(Form.Control, {\n    as: \"textarea\",\n    rows: 3,\n    name: \"pincodes\",\n    onChange: handleInputChange,\n    value: formValues.pincodeString,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  })), __jsx(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    style: {\n      \"float\": 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Update\"))))));\n}\n\nexport default AddPincode;","map":{"version":3,"sources":["D:/Github/FoodAppTimes/src/component/Pincode/AddPincode.component.js"],"names":["useEffect","useState","Form","Button","Alert","axios","AddPincode","showAlert","setShowAlert","pincodeString","pincodes","formValues","setformValues","get","then","response","pincodeArray","data","map","pincodeElement","pincode","toString","pincodeArrayString","forEach","item","index","length","prevState","addPincodes","event","preventDefault","post","resp","console","log","setTimeout","handleInputChange","target","value","split","trim","width","margin"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport \"./AddPincode.css\"\r\n\r\nfunction AddPincode() {\r\n\r\n    const [showAlert, setShowAlert] = useState(false);\r\n\r\n    const [formValues, setformValues] = useState({\r\n        pincodeString: '',\r\n        pincodes: []\r\n    })\r\n\r\n    useEffect(() => {\r\n        axios.get(\"https://food-app-timesinternet.herokuapp.com/api/staff/pincode\")\r\n            .then(response => {\r\n                const pincodeArray = response.data.map(pincodeElement => {\r\n                    return pincodeElement.pincode.toString()\r\n                });\r\n                let pincodeArrayString = \"\"\r\n                pincodeArray.forEach((item, index) => {\r\n                    if (index === pincodeArray.length - 1) {\r\n                        pincodeArrayString += \" \" + item\r\n                    } else {\r\n                        pincodeArrayString += \" \" + item + \",\"\r\n                    }\r\n                })\r\n                setformValues(prevState => {\r\n                    return {\r\n                        ...prevState,\r\n                        pincodeString: pincodeArrayString\r\n                    }\r\n                })\r\n            })\r\n    }, [])\r\n\r\n\r\n    function addPincodes(event) {\r\n        event.preventDefault()\r\n        axios.post(\"https://food-app-timesinternet.herokuapp.com/api/staff/pincode\", formValues.pincodes)\r\n            .then((resp) => {\r\n                console.log(resp);\r\n                setShowAlert(true)\r\n                setTimeout(() => {\r\n                    setShowAlert(false)\r\n                }, 1500);\r\n            })\r\n    }\r\n\r\n    function handleInputChange(event) {\r\n        event.preventDefault();\r\n        let pincodes = event.target.value.split(\",\").map(function (item) {\r\n            return { pincode: item.trim() }\r\n        });\r\n        setformValues({\r\n            pincodeString: event.target.value,\r\n            pincodes: pincodes\r\n        })\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n            <div className=\"pincodeform\">\r\n                <div className=\"pincode\">\r\n                    <div style={{ width: \"400px\", margin: \"auto\" }}>\r\n                        <Form onSubmit={addPincodes}>\r\n                            <h3 className=\"pincodetitle\">Add Pincodes</h3>\r\n                            {showAlert &&\r\n                                <Alert variant=\"info\" onClose={() => setShowAlert(false)} dismissible>\r\n                                    Staff Added!\r\n                                </Alert>\r\n                            }\r\n                            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                                <Form.Label>Pincodes</Form.Label>\r\n                                <Form.Control  as=\"textarea\" rows={3} name=\"pincodes\" onChange={handleInputChange} value={formValues.pincodeString} />\r\n                            </Form.Group>\r\n                            <Button variant=\"primary\" type=\"submit\" style={{ float: 'right' }} >\r\n                                Update\r\n                            </Button>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddPincode;"]},"metadata":{},"sourceType":"module"}