{"ast":null,"code":"import _toConsumableArray from \"D:/Times_Food_App/Razzle/food_app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:/Times_Food_App/Razzle/food_app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { PROCEED_TO_CHECKOUT } from \"../constant/CartItemsConstant\";\nimport { ADD_TO_CART, ADD_TO_SUBTOTAL, ADD_GST, GET_TOTAL, INC_QUANTITY, DEC_QUANTITY } from \"../constant/CartItemsConstant\";\nvar DEFAULT_STATE = {\n  items: [],\n  subtotal: 0,\n  charges: 0,\n  GST: 0,\n  total: 0\n};\nexport var cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case DEC_QUANTITY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        items: state.items.map(function (val) {\n          if (val.itemName === action.payload.itemName) {\n            val.quantity = val.quantity - 1;\n            val.price = Number(val.price) - Number(action.payload.priceOfThisItem);\n          }\n\n          return val;\n        }),\n        subtotal: Number(state.subtotal) - Number(action.payload.priceOfThisItem)\n      });\n\n    case INC_QUANTITY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        items: state.items.map(function (val) {\n          console.log(val, action.payload);\n\n          if (val.itemName === action.payload.itemName) {\n            val.quantity = val.quantity + 1;\n            val.price = Number(val.price) + Number(action.payload.priceOfThisItem);\n          }\n\n          return val;\n        })\n      });\n\n    case GET_TOTAL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        total: state.subtotal + state.GST\n      });\n\n    case ADD_GST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        GST: Number(state.subtotal) * 0.05\n      });\n\n    case ADD_TO_SUBTOTAL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        subtotal: Number(state.subtotal) + Number(action.payload)\n      });\n\n    case PROCEED_TO_CHECKOUT:\n      return _objectSpread({}, state);\n\n    case ADD_TO_CART:\n      console.log(action);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        items: state.items.some(function (ele) {\n          return ele.itemName === action.payload.itemName;\n        }) ? state.items : [].concat(_toConsumableArray(state.items), [action.payload])\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n};","map":{"version":3,"sources":["D:/Times_Food_App/Razzle/food_app/src/reducers/CartStateReducer.js"],"names":["PROCEED_TO_CHECKOUT","ADD_TO_CART","ADD_TO_SUBTOTAL","ADD_GST","GET_TOTAL","INC_QUANTITY","DEC_QUANTITY","DEFAULT_STATE","items","subtotal","charges","GST","total","cartReducer","state","action","type","map","val","itemName","payload","quantity","price","Number","priceOfThisItem","console","log","some","ele"],"mappings":"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","sourcesContent":["import { PROCEED_TO_CHECKOUT } from \"../constant/CartItemsConstant\"\nimport { ADD_TO_CART ,ADD_TO_SUBTOTAL ,ADD_GST, GET_TOTAL,INC_QUANTITY,DEC_QUANTITY} from \"../constant/CartItemsConstant\"\n\nconst DEFAULT_STATE = {\n    items : [],\n    subtotal : 0,\n    charges : 0,\n    GST : 0,\n    total : 0,\n}\n\nexport const cartReducer  = (state=DEFAULT_STATE,action) => {\n    switch(action.type){\n        case DEC_QUANTITY :\n            return {...state , items : state.items.map( (val) => {\n                if(val.itemName === action.payload.itemName){\n                    val.quantity = val.quantity - 1 \n                    val.price = Number(val.price) - Number(action.payload.priceOfThisItem)\n                }\n                return val\n            }),\n            subtotal : Number(state.subtotal)  - Number(action.payload.priceOfThisItem) \n            }\n        case INC_QUANTITY :\n            return {\n                ...state , items : state.items.map( (val) => {\n                    console.log(val , action.payload)\n                    if(val.itemName === action.payload.itemName){\n                        val.quantity = val.quantity +1\n                        val.price = Number(val.price) + Number(action.payload.priceOfThisItem)\n                    }\n                    return val\n                })\n            }\n        case  GET_TOTAL:\n            return {\n                ...state , total :state.subtotal +state.GST\n            }\n        case ADD_GST : \n        return  {\n            ...state , GST :  Number(state.subtotal) * 0.05\n        }\n        case ADD_TO_SUBTOTAL :\n            return {\n                ...state ,    subtotal : Number(state.subtotal) + Number(action.payload),\n            }\n        case PROCEED_TO_CHECKOUT:\n            return {\n                ...state\n            }\n        case  ADD_TO_CART:\n            console.log(action)\n                return {\n                    ...state,\n                    items: state.items.some( (ele) => {\n                        return ele.itemName === action.payload.itemName\n                    }) ?  state.items : [...state.items, action.payload]\n            }\n        default :\n            return { ...state};\n    }\n\n}"]},"metadata":{},"sourceType":"module"}